<div class="container">
  <% if @user.id == current_user.id %>
    <h1>マイページ</h1>
  <%else%>
    <h1>ユーザ詳細</h1>
  <%end%>

  <%= render partial: "public/shared/header" %>

  <div class="row">
    <div class="col-lg-4"><%= image_tag @user.get_icon(400,400) %><br></div>
    <div class="col-lg-4">
      ユーザー名：<%= @user.name %><br>

      <!--フォローボタン-->
      <ul id="follow">
        <%= render "public/follows/follow_button", user: @user %>
      </ul>

      <%= link_to "フォロー", public_user_followings_path(@user.id) %>
        : <%= @user.followings.count %><br>
      <%= link_to "フォロワー", public_user_followers_path(@user.id) %>
        : <div id="followers_count"><%= render "public/follows/followers_count", user: @user %></div>

    </div>
  </div>

  <div class="row">
    <div class="col-lg-8">
      <% if @user.id == current_user.id %>
        <%= link_to  "ブックマーク (一覧)", public_user_bookmarks_path(current_user.id) %><br>
        <%= link_to edit_public_user_path(@user.id), method: :get do %>
          <i class="fa-solid fa-user-gear fa-2x"></i>
        <%end%><br>
      <%end%>

      住まい：<%= @user.address %><br>
      職業：<%= @occupation.name %><br>
      制作媒体（メイン）：<%= @medium.name %><br>
      自己紹介：<%= @user.introduction %><br>
      <br>
    </div>
  </div>

  <h3>My投稿</h3>
  <% @posts.each do |_post|%>
    <% if  _post.user.id == @user.id %>
      <div class="row">
        <div class="col-lg-3"><%= link_to (image_tag _post.get_image(150,150)), public_post_path(_post.id) %></div>
        <div class="col-lg-3">
          Title: <%= _post.title %><br>
          制作媒体：<%= CategoryMedium.find(_post.category_medium_id).name %><br>
          <% if _post.user.id == current_user.id %>
            <%= link_to edit_public_post_path(_post.id) do %>
              <i class="fa-solid fa-gears"></i>
            <%end%>
          <%end%>
        </div>
      </div>
    <%end%>
  <%end%>

</div>
